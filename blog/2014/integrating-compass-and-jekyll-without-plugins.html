<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"> <title>Integrating Compass and Jekyll Without Plugins | Starving Artist Jekyll Theme</title> <meta name="author" content="Chrisanthropic"> <meta name="description" content="Witty description here. "> <meta name="keywords" content="jekyll, jekyll theme, portfolio theme, artist theme"> <link href="/starving-artist-jekyll-theme/css/main.css" media="screen, projection" rel="stylesheet" type="text/css"> <link rel="canonical" href="/starving-artist-jekyll-theme/blog/2014/integrating-compass-and-jekyll-without-plugins"> <link href="/starving-artist-jekyll-theme/favicon.ico" rel="icon"> <link rel="alternate" type="application/atom+xml" title="Starving Artist Jekyll Theme" href="/starving-artist-jekyll-theme/atom.xml"/> <meta property="twitter:card" content="summary"/> <meta property="twitter:site" content=""/> <meta property="twitter:url" content="/starving-artist-jekyll-theme"/> <meta property="twitter:title" content="Integrating Compass and Jekyll Without Plugins"/> <meta property="twitter:description" content="Witty description here. "/> <meta property="twitter:creator" content=""/> <meta property="twitter:image:src" content=""/> </head> <body> <main class="wrap"> <nav class="hide-for-large navbar"> <nav class="row"> <div id="nav"> <ul class="columns small-12 left primary-nav"> <li id="toggleMenu"><a href="#nav">Menu</a></li> <li id="hideMenu"><a href="#toggleMenu">Menu</a></li> <li><a href="/starving-artist-jekyll-theme/illustration/">illustration</a></li> <li><a href="/starving-artist-jekyll-theme/covers/">covers</a></li> <li class="header-nav"> <a href="/starving-artist-jekyll-theme">documentation</a> <ul> <li><a href="/starving-artist-jekyll-theme/">Page 1</a></li> <li><a href="/starving-artist-jekyll-theme/">Page 2</a></li> </ul> </li> <li><a href="/starving-artist-jekyll-theme/blog/">blog</a></li> <li><a href="/starving-artist-jekyll-theme/about/">about</a></li> <li><a href="/starving-artist-jekyll-theme/contact/">contact</a></li> </ul> <ul class="columns medium-4 right primary-nav flex"> <li class="right"><a href="https://chrisanthropic.github.io/slim-pickins-jekyll-theme/atom.xml"><span class="icon-feed socials"></span></a></li> <li class="right"><a href="#"><span class="icon-googleplus socials"></span></a></li> <li class="right"><a href="#"><span class="icon-facebook socials"></span></a></li> <li class="right"><a href="#"><span class="icon-tumblr socials"></span></a></li> <li class="right"><a href="https://twitter.com/"><span class="icon-twitter socials"></span></a></li> <li class="right"><a href="https://github.com/chrisanthropic/slim-pickins-jekyll-theme"><span class="icon-github socials"></span></a></li> <li class="right"><a href="https://www.linkedin.com/in/ctarwater"><span class="icon-linkedin socials"></span></a></li> </ul> </div> </nav> </nav> <header role="banner" id="header" class="small-12 medium-3 columns"> <div class="site-header medium-12 columns"> <nav class="hide-for-small-only hide-for-ipad"> <ul class="social-container"> <li class="right"><a href="https://chrisanthropic.github.io/slim-pickins-jekyll-theme/atom.xml"><span class="icon-feed socials"></span></a></li> <li class="right"><a href="#"><span class="icon-googleplus socials"></span></a></li> <li class="right"><a href="#"><span class="icon-facebook socials"></span></a></li> <li class="right"><a href="#"><span class="icon-tumblr socials"></span></a></li> <li class="right"><a href="https://twitter.com/"><span class="icon-twitter socials"></span></a></li> <li class="right"><a href="https://github.com/chrisanthropic/slim-pickins-jekyll-theme"><span class="icon-github socials"></span></a></li> <li class="right"><a href="https://www.linkedin.com/in/ctarwater"><span class="icon-linkedin socials"></span></a></li> </ul> </nav> <div class="header-logo wraptainer"> <a href="/starving-artist-jekyll-theme/"><img src="/starving-artist-jekyll-theme/images/logo.png" srcset="/starving-artist-jekyll-theme/images/logo.png 200w, /starving-artist-jekyll-theme/images/logo.png 641w, /starving-artist-jekyll-theme/images/logo.png 1025w, /starving-artist-jekyll-theme/images/logo.png 1441w" alt="Starving Artist Jekyll Theme banner image" title="Starving Artist Jekyll Theme banner image" class="center"></a> </div> <nav class="hide-for-small-only hide-for-ipad"> <ul class="menu"> <li class="header-nav"><a href="/starving-artist-jekyll-theme/illustration/">illustration</a></li> <li class="header-nav"><a href="/starving-artist-jekyll-theme/covers/">covers</a></li> <li class="dropdown"> <a href="#">documentation</a> <ul class="dropdown-child"> <li><a href="/starving-artist-jekyll-theme/">Page 1</a></li> <li><a href="/starving-artist-jekyll-theme/">Page 2</a></li> </ul> </li> <li class="header-nav"><a href="/starving-artist-jekyll-theme/blog/">blog</a></li> <li class="header-nav"><a href="/starving-artist-jekyll-theme/about/">about</a></li> <li class="header-nav"><a href="/starving-artist-jekyll-theme/contact/">contact</a></li> </ul> </nav> </div> </header> <div class="content_container columns"> <article class="small-12 columns"> <header class="columns wraptainer"> <p class="post-meta">Dec 9, 2014</p> <h1 class="post-title">Integrating Compass and Jekyll Without Plugins</h1> </header> <div class="columns"> <div class="page-content"> <p>I find myself getting closer to the point where I’m done with the scaffolding and can finally start with the design. The more fun stuff I look at the more I realize that integrating Compass is probably a good idea.</p> <p>I don’t like plugins unless absolutely necessarry so while I’m sure the jekyll-compass plugin is great, I decided to figure out how to add Compass to my Jekyll/Octopress 3 site without any plugins.</p> <p>Here’s what I did.</p> <ul> <li>Add compass to your gemfile</li> <li>Install compass<br/> <code class="highlighter-rouge">bundle install --binstubs --path=vendor</code></li> <li>Run Compass for the first time so it generates a config file<br/> <code class="highlighter-rouge">bundle exec compass create --bare --sass-dir "_sass" --css-dir "css" --images-dir "images"</code> <ul> <li>This command creates a config.rb file wiht compass settings that are compatible with Jekyll</li> </ul> </li> <li>Move the default Jekyll css/main.css to _sass/main.css <ul> <li>remove the yaml frontmatter from the file once you’ve moved it to the _sass directory</li> </ul> </li> <li>Delete the css directory</li> <li>Update rakefile to run compass compile before building</li> </ul> <div class="highlighter-rouge"><pre class="highlight"><code>desc "build the site"
task :build do
  system "bundle exec compass compile"
  system "bundle exec jekyll build"
  system "bundle exec rake minify_html"
  system "bundle exec rake optimizeimages"
end
</code></pre></div> <ul> <li>Run <code class="highlighter-rouge">bundle exec rake build</code></li> <li> <p>NOTE - compression settings are no longer set in _config.yml, you’ll need to add the following line to <code class="highlighter-rouge">config.rb</code> in oroder to compress css<br/> <code class="highlighter-rouge">output_style = :compressed</code></p> </li> <li>Update rakefile to run compass watch and jekyll serve together</li> </ul> <div class="highlighter-rouge"><pre class="highlight"><code>##############
#   Develop  #
##############

# Useful for development
# It watches for chagnes and updates when it finds them

desc "Watch the site and regenerate when it changes"
task :watch do
  puts "Starting to watch source with Jekyll and Compass."
  system "compass compile" unless File.exist?("css/main.css")
  system "jekyll build"
  jekyllPid = Process.spawn("jekyll serve --watch")
  compassPid = Process.spawn("compass watch")

  trap("INT") {
    [jekyllPid, compassPid].each { |pid| Process.kill(9, pid) rescue Errno::ESRCH }
    exit 0
  }

  [jekyllPid, compassPid].each { |pid| Process.wait(pid) }
end
</code></pre></div> <ul> <li>Now you can run <code class="highlighter-rouge">bundle exec rake watch</code> and it runs compass watch &amp; jekyll serve together.</li> </ul> <p>Now you can use Compass mixins and import partials by adding <code class="highlighter-rouge">@import compass/blahblahblah</code> to your _sass/main.scss file.<br/> Running <code class="highlighter-rouge">bundle exec rake build</code> will then run <code class="highlighter-rouge">compass compile</code> to create your css/main.scss file, followed by <code class="highlighter-rouge">jekyll build</code> which will move that css/main.scss to _site/css/main.css</p> <p>In short:</p> <ul> <li>you can store any partials you want to in the _sass directory (or subdirectories)</li> <li>you can import these partials via your main.scss file</li> <li>any partials imported will be compiled into a single file (css/main.scss) when you run <code class="highlighter-rouge">compass compile</code></li> <li>the css/main.scss file will be built into _site/css/main.css when you run <code class="highlighter-rouge">jekyll build</code></li> <li>any partials not imported by your _sass/main.scss file will not be used</li> </ul> </div> </div> </article> </div> <aside class="small-12 large-2 columns sidebar page-content recent-posts"> <div class="wraptainer"> <h2>Recent Posts</h2> <ul> <li> <a href="/starving-artist-jekyll-theme/blog/2016/sample-post-with-thumbnail">Sample post with thumbnail</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/using-_data-to-build-jekyll-navigation">Using _data to Build Jekyll Navigation</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/integrating-compass-and-jekyll-without-plugins">Integrating Compass and Jekyll Without Plugins</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/integrating-the-foundation-zurb-grid-with-jekyll">Integrating the Foundation Zurb Grid With Jekyll</a> </li> <li> <a href="/starving-artist-jekyll-theme/blog/2014/an-s3-policy-to-block-semalt-referral-traffic">An S3 Policy to Block Semalt Referral Traffic</a> </li> </ul> </div> </aside> </aside> </main> </body> </html>